---
name: Titanium.UI.Android.SearchView
summary: A specialized text field for entering search text.
description: |
    A widget that provides a user interface for the user to enter a search query and submit a request to a search provider.
    
    Search views are most commonly used for filtering the rows in a [TableView](Titanium.UI.TableView).
    Similar to [SearchBar](Titanium.UI.SearchBar), you can add a search view to a table view by setting the table view's 
    [search](Titanium.UI.TableView.search) property. 
    
    You can also add search view in an action bar as an action view.

    A search view can be used without a table view.

    Use the <Titanium.UI.Android.createSearchView> method to create a search view. This is only supported on API 11 and higher.

    
extends: Titanium.UI.View
excludes: { methods: [ add ] }
since: "3.0.2"
platforms: [android]
methods:

  - name: blur
    summary: Causes the search view to lose focus.

  - name: focus
    summary: Causes the search view to gain focus.

events:

  - name: blur
    summary: Fired when the search view loses focus.

  - name: cancel
    summary: Fired when the cancel button is pressed.
    description: |
         Due to the current [Android Issue](http://code.google.com/p/android/issues/detail?id=25758), this event does not work
         with Android 4.0+. Alternatively, when using SearchView in the action bar, you can listen for the [MenuItem.collapse](Titanium.Android.MenuItem.collapse) event.

  - name: change
    summary: Fired when the value of the search view changes.

  - name: focus
    summary: Fired when the search view gains focus.
    
  - name: submit
    summary: If the search query is not empty, fired when the search button is clicked on soft keyboard

properties:

  - name: hintText
    summary: Text to show when the search view field is not focused.
    type: String
    default: no hint text

  - name: value
    summary: Value of the search view.
    description: |
       This value cannot be set until after the search view is created.
    type: String
    
  - name: iconified
    summary: Iconifies or expands the search view
    description: see [Android Documentation](http://developer.android.com/reference/android/widget/SearchView.html#setIconified(boolean)) for more details.
    type: Boolean
    default: undefined
  
  - name: iconifiedByDefault
    summary: Sets the default or resting state of the search view
    description: see [Android Documentation](http://developer.android.com/reference/android/widget/SearchView.html#setIconifiedByDefault(boolean)) for more details.
    type: Boolean
    default: true
  
  - name: submitEnabled
    summary: Whether to display the submit button when necessary or never display.
    type: Boolean
    default: undefined
         
examples:

  - title: Search View for Table in Action Bar
    example: |
        The following example creates a SearchView widget for a TableView
        and displays it as an Action Bar item.

            var searchView = Ti.UI.Android.createSearchView({
                hintText: "Table Search",
                submitEnabled: true
            });

            var win = Ti.UI.createWindow({
                backgroundColor: 'white',
                fullscreen: false,
                activity: {
                    onCreateOptionsMenu: function(e) {
                        var menu = e.menu;
                        var menuItem = menu.add({
                            actionView : searchView,
                            icon: Ti.Android.R.drawable.ic_menu_search,
                            showAsAction: Ti.Android.SHOW_AS_ACTION_IF_ROOM | Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW
                        });
                    }
                }
            });

            var data = [];
            data.push(Ti.UI.createTableViewRow({title:'Apple'}));
            data.push(Ti.UI.createTableViewRow({title:'Banana'}));
            data.push(Ti.UI.createTableViewRow({title:'Orange'}));
            data.push(Ti.UI.createTableViewRow({title:'Raspberry'}));

            var tableview = Titanium.UI.createTableView({
                data:data,
                search:searchView,
                searchAsChild: false
            });

            win.add(tableview);
            win.open();

  - title: Alloy XML Markup
    example: |
        Previous example as an Alloy view except the SearchView widget is not displayed in the
        Action Bar.  It is displayed in the same view as the table.

        To display it in the Action Bar, you need to create it programmatically in the
        controller code and attach it to the window's activity.onCreateOptionsMenu property as shown in the
        previous example.

        index.xml:

            <Alloy>
                <Window id="win" backgroundColor="blue" fullscreen="false" layout="vertical">
                    <SearchView id="searchView" ns="Ti.UI.Android" platform="android" hintText="Table Search" submitEnabled="true" />
                    <TableView id="tableview" searchAsChild="false" top="10">
                        <TableViewRow title="Apple" />
                        <TableViewRow title="Banana" />
                        <TableViewRow title="Orange" />
                        <TableViewRow title="Raspberry" />
                    </TableView>
                </Window>
            </Alloy>

        index.js:

            $.tableview.search = $.searchView;
            $.win.open();
